# 代理人協作準則 (Agent Orchestration)

## 可用代理人清單

位於 `agents/` 目錄下：

| 代理人 | 用途 | 啟動時機 |
| :--- | :--- | :--- |
| **planner** | 實作規劃專家 | 處理複雜功能、架構變動、大型重構 |
| **architect** | 系統架構師 | 進行技術選型、設計可擴展系統、建立 ADR |
| **tdd-guide** | TDD 開發專家 | 撰寫新功能、修復 Bug、確保覆蓋率 > 80% |
| **code-reviewer** | 代碼審查專家 | 代碼撰寫或修改後，進行品質與標準檢查 |
| **security-reviewer** | 安全審查專家 | 處理敏感數據、API 端點或認證邏輯前 |
| **build-error-resolver** | 構建錯誤修復師 | 當建置失敗或出現 TypeScript 型別錯誤時 |
| **e2e-runner** | E2E 測試專家 | 驗證關鍵用戶旅程與 Playwright 測試 |
| **refactor-cleaner** | 代碼清理專家 | 移除死代碼、重複代碼與優化依賴 |
| **doc-updater** | 文件更新專家 | 更新 README、指南與 CODEMAPS |

## 代理人啟動準則

以下情境**無需使用者提示**，請主動切換角色：
1. **面對複雜需求**：使用 **planner** 建立詳細計劃。
2. **完成代碼撰寫/修改**：使用 **code-reviewer** 進行自我審查。
3. **進行功能實作**：使用 **tdd-guide** 強制執行「紅-綠-重構」循環。
4. **遇到編譯錯誤**：使用 **build-error-resolver** 快速恢復綠色建置。

## 並行任務執行 (Parallel Execution)

**絕對優先**針對獨立操作使用並行執行，以提升效率：

```markdown
# 正確：並行執行
同時啟動 3 個代理人：
1. 代理人 1：進行 Auth 模組的安全分析。
2. 代理人 2：進行快取系統的效能審查。
3. 代理人 3：檢查工具函數的型別正確性。

# 錯誤：無意義的序列執行
先讓代理人 1 跑完，再換代理人 2，最後才是代理人 3。
```

## 多維度分析 (Multi-Perspective)

針對複雜難題，應拆分子代理人從不同角度進攻：
- 安全性視角。
- 效能與可擴展性視角。
- 程式碼簡潔度與一致性視角。
- 測試覆蓋率與邊界情況視角。
