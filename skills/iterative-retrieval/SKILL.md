---
name: iterative-retrieval
description: 迭代檢索模式。透過「派遣-評估-精煉」循環，解決 AI 代理在多代理工作流中的 Context 缺失或過大問題。
---

# Iterative Retrieval Pattern

此技能解決了 subagent 在啟動時無法預知所需完整 Context 的問題，透過多輪迭代精確鎖定相關檔案。

## 四階段循環
1. **派遣 (Dispatch)**: 根據高層級意圖進行初始廣泛查詢。
2. **評估 (Evaluate)**: 評分獲取內容的相關性 (0.0 - 1.0)，識別 Context 缺口。
3. **精煉 (Refine)**: 根據發現的新術語或模式更新搜尋條件。
4. **循環 (Loop)**: 重複上述步驟（建議上限 3 次），直到獲取足夠的高相關性檔案。

## 最佳實踐
- **寬進嚴出**: 初始查詢應保持廣泛，避免過早過濾掉潛在關聯。
- **學習術語**: 第一輪迭代通常能揭示專案特有的命名慣例（如 "throttle" vs "limit"）。
- **適時停止**: 擁有 3 個高相關性檔案通常優於 10 個平庸檔案。

---
*註：此模式旨在優化 Token 使用並降低 Agent 的幻覺率。*
